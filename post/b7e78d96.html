<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>【FPGA】基于SMIMS开发板的FDE-Lab | ZTY's Blog</title><meta name="author" content="ZTY"><meta name="copyright" content="ZTY"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="demo:  https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1tx4y1A7wZ&#x2F;?vd_source&#x3D;3d19a3d894313e266a040f306849e552 Contents Chapter 1 Introduction	3 1.1 The purpose of the experiment	3 1.2 Experimental Procedure of FDE L">
<meta property="og:type" content="article">
<meta property="og:title" content="【FPGA】基于SMIMS开发板的FDE-Lab">
<meta property="og:url" content="https://zty-user.github.io/post/b7e78d96.html">
<meta property="og:site_name" content="ZTY&#39;s Blog">
<meta property="og:description" content="demo:  https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1tx4y1A7wZ&#x2F;?vd_source&#x3D;3d19a3d894313e266a040f306849e552 Contents Chapter 1 Introduction	3 1.1 The purpose of the experiment	3 1.2 Experimental Procedure of FDE L">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/k7/wallhaven-k7q9m7.png">
<meta property="article:published_time" content="2023-04-01T09:46:42.000Z">
<meta property="article:modified_time" content="2023-04-01T10:50:05.319Z">
<meta property="article:author" content="ZTY">
<meta property="article:tag" content="-FPGA">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/k7/wallhaven-k7q9m7.png"><link rel="shortcut icon" href="/zty-user.github.io/img/favicon.png"><link rel="canonical" href="https://zty-user.github.io/post/b7e78d96.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/zty-user.github.io/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/zty-user.github.io/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49ba1f5","bgDark":"#a1fa1fa1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【FPGA】基于SMIMS开发板的FDE-Lab',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 6.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/img/landscape.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/zty-user.github.io/img/me.png" onerror="onerror=null;src='/img/friend_4a04.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/zty-user.github.io/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/zty-user.github.io/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/zty-user.github.io/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/zty-user.github.io/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://w.wallhaven.cc/full/k7/wallhaven-k7q9m7.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/zty-user.github.io/"><span class="site-name">ZTY's Blog</span></a><a class="nav-page-title" href="/zty-user.github.io/"><span class="site-name">【FPGA】基于SMIMS开发板的FDE-Lab</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/zty-user.github.io/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/zty-user.github.io/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">【FPGA】基于SMIMS开发板的FDE-Lab</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-01T09:46:42.000Z" title="发表于 2023-04-01 17:46:42">2023-04-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-01T10:50:05.319Z" title="更新于 2023-04-01 18:50:05">2023-04-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/zty-user.github.io/categories/Digital-Circuits-Design/">-Digital Circuits Design</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">6.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>42分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><p>demo: </p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1tx4y1A7wZ/?vd_source=3d19a3d894313e266a040f306849e552">https://www.bilibili.com/video/BV1tx4y1A7wZ/?vd_source=3d19a3d894313e266a040f306849e552</a></p>
<p>Contents</p>
<p><a href="#_toc10575">Chapter 1 Introduction	3</a></p>
<p><a href="#_toc17173">1.1 The purpose of the experiment	3</a></p>
<p><a href="#_toc12964">1.2 Experimental Procedure of FDE Lab	3</a></p>
<p><a href="#_toc12293">Chapter 2. Name Display Experiment	5</a></p>
<p><a href="#_toc2986">2.1 The Text Display of Name	5</a></p>
<p><a href="#_toc5520">2.1.1 Document Directory	5</a></p>
<p><a href="#_toc6345">2.1.2 Experimental Principle	6</a></p>
<p><a href="#_toc1551">2.1.3 Source Code Design	7</a></p>
<p><a href="#_toc13891">2.2 The Image Display of Name	10</a></p>
<p><a href="#_toc19601">2.2.1 Document Directory	10</a></p>
<p><a href="#_toc11863">2.1.2 Experimental Principle	10</a></p>
<p><a href="#_toc14568">2.2.3 Source Code Design	12</a></p>
<p><a href="#_toc21801">Chapter 3. Aerial Combat Game	20</a></p>
<p><a href="#_toc7907">3.1 Document Directory	20</a></p>
<p><a href="#_toc19591">3.2 Game Introduction	20</a></p>
<p><a href="#_toc30801">3.3 Source Code Structure	21</a></p>
<p><a href="#_toc21041">Chapter 4. Experiment Summary	31</a></p>
<p><a href="#_toc7697">4.1 Experiment Summary	31</a></p>
<p><a href="#_toc21012">Chapter 5. References	32</a></p>
<p><a href="#_toc24617">Chapter 6. Appendices	33</a></p>
<h1 id="Chapter-1-Introduction"><a href="#Chapter-1-Introduction" class="headerlink" title="Chapter 1 Introduction"></a><a name="_toc10575"></a><strong>Chapter 1 Introduction</strong></h1><h2 id="1-1-The-purpose-of-the-experiment"><a href="#1-1-The-purpose-of-the-experiment" class="headerlink" title="1.1 The purpose of the experiment"></a><a name="_toc101298135"></a><a name="_toc100180913"></a><a name="_toc17173"></a><strong>1.1 The purpose of the experiment</strong></h2><p>Through various experiments in FDE Lab, I gradually master the specific steps of digital circuit design, be familiar with the use of SMIMS and Wonton software, and understand the workflow of Yosys and DC, such as compiling, packing, placing, routing and generating bit files. By writing Verilog files, I am familiar with top-down design methods, test document writing and waveform viewing. The mastery of these knowledge will be of great help to the later embedded experiments.</p>
<h2 id="1-2-Experimental-Procedure-of-FDE-Lab"><a href="#1-2-Experimental-Procedure-of-FDE-Lab" class="headerlink" title="1.2 Experimental Procedure of FDE Lab"></a><a name="_toc100180914"></a><a name="_toc101298136"></a><a name="_toc12964"></a><strong>1.2 Experimental Procedure of FDE Lab</strong></h2><p>Firstly, the design source file is written by Vivado software developed by AMD Xilinx Company. By writing testbench files, we can verify the functions of source files through behavior level simulation. In order to ensure the reliability of the design source file, we can also conduct  post synthesis simulation again after synthesis steps to verify the correctness of timing and functions.</p>
<p>Secondly, we can compile the design source file through Yosys or DC. After the compilation is complete, we can use the FDE2019 software to complete a work flow, such as packing, placing, routing, and generating bit files. It is worth noting that the SMIMS HDLAutoAssign tool should be used to generate pin constraint files in advance during the placing and routing process.</p>
<p>Finally, Wonton interactive software is used to control each input and output component. When creating a new project, it is necessary to add the previously generated pin constraint file, connect the FDE development board after adding the bitstream file, and set the clock frequency after programming. After setting this up, the output component can perform a series of operations by controlling the input component.</p>
<p>Next, I will introduce some specific process of digital circuit design:</p>
<ul>
<li><strong>Packing</strong></li>
</ul>
<p>The packing step in digital circuit design is the process of grouping logical components and interconnect wires into physical entities called modules or cells.</p>
<p>The following are the typical steps involved in the packing step of digital circuit design:</p>
<ul>
<li><strong>Module generation:</strong> The first step is to group related components into modules. This is done based on the functionality of the components and the design hierarchy. The modules can be pre-designed blocks or they can be created during the packing step.</li>
<li><strong>Cell generation:</strong> In this step, the modules are transformed into physical cells. Each cell contains one or more modules and associated interconnect wires. The cells are generated using a cell generation tool, which takes into account the placement of the components and the design rules specified by the manufacturer.</li>
<li><strong>Cell placement:</strong> Once the cells are generated, they are placed on the chip or PCB. The placement takes into account the location of the input&#x2F;output pins and the interconnect wires between the cells.</li>
</ul>
<p>Overall, the packing step in digital circuit design is a critical part of the design process, as it determines the physical grouping of components and interconnect wires into cells or modules. This can have a significant impact on the performance and reliability of the circuit</p>
<ul>
<li><strong>Placing</strong></li>
</ul>
<p>The placement step in digital circuit design is the process of determining the physical location of each logic gate, flip-flop, and other components on a chip or printed circuit board (PCB). The goal of the placement step is to minimize the length of interconnect wires and optimize the performance of the circuit.</p>
<p>The following are the typical steps involved in the placement step of digital circuit design:</p>
<ul>
<li><strong>Netlist generation:</strong> The first step is to generate a netlist, which is a list of all the components in the design and their connections. This is typically done using a computer-aided design (CAD) tool.</li>
<li><strong>Floorplanning:</strong> In this step, the designer allocates space for each component on the chip or PCB. This involves deciding on the overall size of the chip, the location of the input&#x2F;output pins, and the placement of other components.</li>
<li><strong>Placement:</strong> Once the floorplan is complete, the designer uses a placement tool to place the components on the chip or PCB. The placement tool takes into account the location of the input&#x2F;output pins, the size and shape of the components, and any design rules specified by the manufacturer.</li>
</ul>
<p>To summarize, the placement step in digital circuit design determines the physical layout of the circuit and can have a significant impact on its performance.</p>
<ul>
<li><strong>Routing</strong></li>
</ul>
<p>The routing step in digital circuit design is the process of determining the physical paths for interconnect wires that connect the various cells or modules of a circuit. The goal of the routing step is to minimize the total length of interconnect wires while meeting the timing, area, and power constraints of the design.</p>
<p>The following are the typical steps involved in the routing step of digital circuit design:</p>
<ul>
<li><strong>Routing grid generation:</strong> In this step, a routing grid is created over the cells or modules of the circuit. The routing grid is a matrix of cells that represent the physical space available for routing wires between the cells.</li>
<li><strong>Global routing:</strong> In this step, a global router is used to determine the approximate paths for the interconnect wires between the cells. The global router takes into account the placement of the cells, the routing grid, and the design constraints.</li>
<li><strong>Detailed routing:</strong> Once the approximate paths for the interconnect wires have been determined, a detailed router is used to refine the paths and to optimize the routing. The detailed router takes into account the specific physical characteristics of the interconnect wires, such as their width and spacing, and the design constraints.</li>
</ul>
<p>All in all, the routing step determines the physical paths for interconnect wires that connect the various cells or modules of a circuit. This can have a significant impact on the performance, area, and power consumption of the circuit.</p>
<h1 id="Chapter-2-Name-Display-Experiment"><a href="#Chapter-2-Name-Display-Experiment" class="headerlink" title="Chapter 2. Name Display Experiment"></a><a name="_toc100180915"></a><a name="_toc101298137"></a><a name="_toc12293"></a><strong>Chapter 2. Name Display Experiment</strong></h1><p>The experiment of name display is mainly divided into two parts, respectively LED text display and LED image display. Compared to LED text display, LED image display is more complex, it needs to use more complex state machine and dynamic scanning knowledge.</p>
<h2 id="2-1-The-Text-Display-of-Name"><a href="#2-1-The-Text-Display-of-Name" class="headerlink" title="2.1 The Text Display of Name"></a><a name="_toc101298143"></a><a name="_toc2986"></a><a name="_toc100180921"></a><strong>2.1 The Text Display of Name</strong></h2><h3 id="2-1-1-Document-Directory"><a href="#2-1-1-Document-Directory" class="headerlink" title="2.1.1 Document Directory"></a><a name="_toc5520"></a><a name="_toc100180922"></a><a name="_toc101298144"></a><strong>2.1.1 Document Directory</strong></h3><p>The table below shows the file directories in the Lab1 text folder.</p>
<p><strong>Table.1 Related Files of the Text Display in Lab1 Text Folder</strong></p>
<table>
<thead>
<tr>
<th align="center"><code> </code><strong>Name</strong></th>
<th align="center"><strong>Specific content</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><p></p><p></p><p>ZTY_name_display2_FDE</p></td>
<td align="center"><p>1. Source files</p><p>2. Generated bit files </p><p>3. Yosys compiled files</p><p>4. Packed, placed, and routed files</p><p>5. Pin constraint files.</p></td>
</tr>
<tr>
<td align="center"><p></p><p>demo</p></td>
<td align="center"><p>1. Demo videos</p><p>2. Demo pictures</p><p>3. Waveform pictures</p></td>
</tr>
<tr>
<td align="center">tb_wave</td>
<td align="center"><p>1. Testbench file</p><p>2. Waveform file</p></td>
</tr>
<tr>
<td align="center">vivado_zty_word_display</td>
<td align="center"><p>1. Vivado project file</p><p>2. Vivado source files</p><p>3. Vivado simulation files</p></td>
</tr>
<tr>
<td align="center">ZTY_name_display2_Wonton</td>
<td align="center"><code>    </code>Wonton project files</td>
</tr>
</tbody></table>
<h3 id="2-1-2-Experimental-Principle"><a href="#2-1-2-Experimental-Principle" class="headerlink" title="2.1.2 Experimental Principle"></a><a name="_toc6345"></a><a name="_toc100180923"></a><a name="_toc101298145"></a><strong>2.1.2 Experimental Principle</strong></h3><p>The name display takes advantage of the LED text display module in Wonton. The LCD module has its display starting at the top left corner, where the first character is shown. As each character is displayed, the display address automatically moves to the next position. Once all 32 addresses (2 rows of 16 characters) are written, the character data in the initial position is overwritten in a cyclic manner. Additionally, the user manual provides the corresponding hexadecimal codes for letters, symbols, and numbers.</p>
<p>The component picture and the functions of the various I&#x2F;O ports are shown below. </p>
<p><strong>Table.2 Different Port Functions</strong></p>
<table>
<thead>
<tr>
<th align="center"><strong>Port</strong></th>
<th align="center"><strong>Function</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>DB0~DB7</strong></td>
<td align="center"><strong>Input data</strong></td>
</tr>
<tr>
<td align="center"><p></p><p><strong>RS</strong></p></td>
<td align="center"><p><strong>Register select</strong></p><p>When it is 0, the instruction register is selected</p><p><code> </code>When it is 1, the data register is selected</p></td>
</tr>
<tr>
<td align="center"><p></p><p><strong>RW</strong></p></td>
<td align="center"><p><strong>Read&#x2F;Write</strong></p><p>When it is 0, a write operation is performed </p><p>When it is 1, no operation is performed</p></td>
</tr>
<tr>
<td align="center"><strong>EN</strong></td>
<td align="center">Data is transferred on the falling edge of EN</td>
</tr>
<tr>
<td align="center"><p></p><p><strong>RST</strong></p></td>
<td align="center"><p><strong>RESET</strong></p><p>When it is 1, all display data is cleared and the cursor is moved to the initial position (top left corner).</p></td>
</tr>
</tbody></table>
<p><img src="%E3%80%90FPGA%E3%80%91%E5%9F%BA%E4%BA%8ESMIMS%E5%BC%80%E5%8F%91%E6%9D%BF%E7%9A%84FDE-Lab%5CAspose.Words.edf023e3-7755-4ecb-a3b3-627145557c7f.003.png" alt="Aspose.Words.edf023e3-7755-4ecb-a3b3-627145557c7f.003"></p>
<p><strong>Figure.2 The Time Sequence Working Mode</strong></p>
<p>Each character in the LED text display adopts the encoding rule of ASCII code, and each character corresponds to a hexadecimal code.</p>
<h3 id="2-1-3-Source-Code-Design"><a href="#2-1-3-Source-Code-Design" class="headerlink" title="2.1.3 Source Code Design"></a><a name="_toc1551"></a><strong>2.1.3 Source Code Design</strong></h3><p>Part of the sequential logic code is shown here, which is the key to led text display.</p>
<p><strong>Code.1 Partial Text Display of Sequential Logic Code</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">*<span class="comment">// for text led display* </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> iClk)</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(oLcdRst)</span><br><span class="line"></span><br><span class="line">`        `countlcd    &lt;=  <span class="number">8&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span> if(countlimit)</span></span><br><span class="line"></span><br><span class="line">`        `countlcd    &lt;=  countlcd;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line">`        `countlcd    &lt;=  countlcd + <span class="number">1&#x27;b1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> iClk)</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(oLcdRst)</span><br><span class="line"></span><br><span class="line">`        `oLcdRw  &lt;=  <span class="number">1&#x27;b0</span>;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span> if(countlimit)</span></span><br><span class="line"></span><br><span class="line">`        `oLcdRw  &lt;=  <span class="number">1&#x27;b1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span>  oLcdRst =   iRst || iButton2 ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span>  oLcdRs  =   <span class="number">1&#x27;b1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span>  countlimit = (countlcd == <span class="number">8&#x27;d255</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span>  oLcdEn = ~countlcd[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(countlcd[<span class="number">3</span>] <span class="keyword">or</span> countlcd[<span class="number">4</span>] <span class="keyword">or</span> countlcd[<span class="number">5</span>] <span class="keyword">or</span> countlcd[<span class="number">6</span>] <span class="keyword">or</span> countlcd[<span class="number">7</span>] )</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">case</span>(countlcd[<span class="number">7</span>:<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d0</span>    :   oLcdData    &lt;=  WORD0 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d1</span>    :   oLcdData    &lt;=  WORD1 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d2</span>    :   oLcdData    &lt;=  WORD2 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d3</span>    :   oLcdData    &lt;=  WORD3 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d4</span>    :   oLcdData    &lt;=  WORD4 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d5</span>    :   oLcdData    &lt;=  WORD5 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d6</span>    :   oLcdData    &lt;=  WORD6 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d7</span>    :   oLcdData    &lt;=  WORD7 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d8</span>    :   oLcdData    &lt;=  WORD8 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d9</span>    :   oLcdData    &lt;=  WORD9 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d10</span>   :   oLcdData    &lt;=  WORD10;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d11</span>   :   oLcdData    &lt;=  WORD11;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d12</span>   :   oLcdData    &lt;=  WORD12;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d13</span>   :   oLcdData    &lt;=  WORD13;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d14</span>   :   oLcdData    &lt;=  WORD14;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d15</span>   :   oLcdData    &lt;=  WORD15;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d16</span>    :   oLcdData    &lt;=  WORD16 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d17</span>    :   oLcdData    &lt;=  WORD17 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d18</span>    :   oLcdData    &lt;=  WORD18 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d19</span>    :   oLcdData    &lt;=  WORD19 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d20</span>    :   oLcdData    &lt;=  WORD20 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d21</span>    :   oLcdData    &lt;=  WORD21 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d22</span>    :   oLcdData    &lt;=  WORD22 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d23</span>    :   oLcdData    &lt;=  WORD23 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d24</span>    :   oLcdData    &lt;=  WORD24 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d25</span>    :   oLcdData    &lt;=  WORD25 ;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d26</span>   :   oLcdData    &lt;=  WORD26;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d27</span>   :   oLcdData    &lt;=  WORD27;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d28</span>   :   oLcdData    &lt;=  WORD28;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d29</span>   :   oLcdData    &lt;=  WORD29;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d30</span>   :   oLcdData    &lt;=  WORD30;</span><br><span class="line"></span><br><span class="line">`        `<span class="number">5&#x27;d31</span>   :   oLcdData    &lt;=  WORD31;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">endcase</span></span><br></pre></td></tr></table></figure>



<p>The code consists of a series of always blocks and assign statements. The first always block is triggered on the positive edge of the input clock signal (iClk). It includes an if-else statement that checks the state of the oLcdRst signal, which is used to reset the LED display. If the oLcdRst signal is high, then the countlcd variable is set to 0. If the countlimit condition is met, then the countlcd variable is not updated. Otherwise, the countlcd variable is incremented by 1.</p>
<p>The second always block is also triggered on the positive edge of the input clock signal (iClk). It updates the oLcdRw signal, which is used to control the read&#x2F;write operations of the LED display. If the oLcdRst signal is high, then the oLcdRw signal is set to 0 (write operation). If the countlimit condition is met, then the oLcdRw signal is set to 1 (no operation).</p>
<p>The assign statements are used to assign values to various signals. The oLcdRst signal is assigned the logical OR of the iRst and iButton2 signals. The oLcdRs signal is always set to 1, indicating that the data being transferred is a character data. The countlimit signal is assigned based on the value of the countlcd variable. It is set to 1 when the countlcd variable is equal to 255. The oLcdEn signal is assigned the complement of the bit at position 2 in the countlcd variable.</p>
<p>The final always block is triggered by changes in the countlcd variable. It uses a case statement to assign values to the oLcdData signal based on the value of the countlcd variable. The oLcdData signal represents the data being transferred to the LED display.</p>
<h2 id="2-2-The-Image-Display-of-Name"><a href="#2-2-The-Image-Display-of-Name" class="headerlink" title="2.2 The Image Display of Name"></a><a name="_toc13891"></a><strong>2.2 The Image Display of Name</strong></h2><h3 id="2-2-1-Document-Directory"><a href="#2-2-1-Document-Directory" class="headerlink" title="2.2.1 Document Directory"></a><a name="_toc19601"></a><strong>2.2.1 Document Directory</strong></h3><p>The table below shows the file directories in the Lab1 image folder.</p>
<p><strong>Table.3 Related Files of the Text Display in Lab1 Image Folder</strong></p>
<table>
<thead>
<tr>
<th align="center"><code> </code><strong>Name</strong></th>
<th align="center"><strong>Specific content</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><p></p><p></p><p>ZTY_name_display_FDE</p></td>
<td align="center"><p>1. Source files</p><p>2. Generated bit files </p><p>3. Yosys compiled files</p><p>4. Packed, placed, and routed files</p><p>5. Pin constraint files.</p></td>
</tr>
<tr>
<td align="center"><p></p><p>demo</p></td>
<td align="center"><p>1. Demo videos</p><p>2. Demo pictures</p><p>3. Waveform pictures</p></td>
</tr>
<tr>
<td align="center">tb_simulation</td>
<td align="center"><p>1. Testbench file</p><p>2. Waveform file</p></td>
</tr>
<tr>
<td align="center">vivado_zty_image_display</td>
<td align="center"><p>1.Vivado project file</p><p>2.Vivado source files</p><p>3.Vivado simulation files</p></td>
</tr>
<tr>
<td align="center">ZTY_name_display_Wonton</td>
<td align="center"><code>    </code>Wonton project files</td>
</tr>
</tbody></table>
<h3 id="2-1-2-Experimental-Principle-1"><a href="#2-1-2-Experimental-Principle-1" class="headerlink" title="2.1.2 Experimental Principle"></a><a name="_toc11863"></a><strong>2.1.2 Experimental Principle</strong></h3><p>The LED image display uses LED image display in the Wonton software, as shown in the figure below.</p>
<p><strong>Figure.5 LED Image Display</strong></p>
<p>The <a name="_hlk100179067"></a>port of this component is defined as shown in the following table.	</p>
<table>
<thead>
<tr>
<th align="center">Port</th>
<th align="center">Function</th>
</tr>
</thead>
<tbody><tr>
<td align="center">DB0~DB7</td>
<td align="center">Data input</td>
</tr>
<tr>
<td align="center"><p></p><p>DI</p><p></p></td>
<td align="center"><p>Register selection port</p><p>0: Enter command mode (select command register)</p><p>1: Enter data mode (select data bits register)</p></td>
</tr>
<tr>
<td align="center"><p></p><p>RW</p><p></p></td>
<td align="center"><p>Read&#x2F;Write</p><p>0: write data</p><p>1: No operation</p></td>
</tr>
<tr>
<td align="center">EN</td>
<td align="center">Enable signal. Data incoming port on negedge</td>
</tr>
<tr>
<td align="center">CS1</td>
<td align="center">Left half screen</td>
</tr>
<tr>
<td align="center">CS2</td>
<td align="center">Right half screen</td>
</tr>
<tr>
<td align="center">RST</td>
<td align="center">Clear the data in the display and mem</td>
</tr>
</tbody></table>
<p><strong>Table.4 the Port of this Component</strong>	</p>
<p>The device has an overall pixel resolution of 128x64, which is divided into two 64x64 screens. Each screen is made up of eight 64x8 small screens, with x and y-axis address coordinates shown in the provided figure. When data is written to the memory (MEM), the Y-coordinate automatically moves to the next position, and resets to 0 when Y&#x3D;63.</p>
<p>For generating specific text pixels, the pctolcd2002 software is used. The displayed text and pixel generation for this experiment are shown in the figure.</p>
<p>To display a word, both the left and right screens are divided into 8-bit x 8 pixels on the x-axis and 64 pixels on the y-axis. An 8-bit x 64 MEM is built into the LED, so 8 pages need to be lit. Each page is illuminated for 68 clock cycles, with the start display address set in cycle 1, the page set in cycle 2, and the Y address set in cycle 3. Cycles 4 to 67 load data into MEM (with one row of data (1 x 8) loaded in each cycle), and cycle 68 illuminates that segment of the screen. Therefore, to display each word, 68 x 8 &#x3D; 544 cycles are required.</p>
<h3 id="2-2-3-Source-Code-Design"><a href="#2-2-3-Source-Code-Design" class="headerlink" title="2.2.3 Source Code Design"></a><a name="_toc14568"></a><strong>2.2.3 Source Code Design</strong></h3><ul>
<li><strong>Generate Current Display</strong></li>
</ul>
<p><strong>Code.2 Generate Current Display</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clock)</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">if</span>(<span class="keyword">input</span>\_rst)</span><br><span class="line"></span><br><span class="line">`    `current\_display &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`  <span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">2</span> || current\_state == <span class="number">5</span> || current\_state == <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_display &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">if</span>(count\_clock == <span class="number">68</span></span><br><span class="line"></span><br><span class="line">`        `||count\_clock == <span class="number">136</span></span><br><span class="line"></span><br><span class="line">`        `||count\_clock == <span class="number">204</span></span><br><span class="line"></span><br><span class="line">`        `||count\_clock == <span class="number">272</span></span><br><span class="line"></span><br><span class="line">`        `||count\_clock == <span class="number">340</span></span><br><span class="line"></span><br><span class="line">`        `||count\_clock == <span class="number">408</span></span><br><span class="line"></span><br><span class="line">`        `||count\_clock == <span class="number">476</span></span><br><span class="line"></span><br><span class="line">`        `||count\_clock == <span class="number">544</span></span><br><span class="line"></span><br><span class="line">`        `)</span><br><span class="line"></span><br><span class="line">`            `current\_display &lt;= current\_display + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>




<p>This code is describing the functionality of an always block that is triggered on the positive edge of a clock signal. It first checks whether an input reset signal is active, and if so, sets the “current_display” variable to 0. Otherwise, it proceeds with additional checks.</p>
<p>If the current state is 2, 5, or 8, “current_display” is set to 0. However, if the count_clock value matches one of the specified clock cycle values (68, 136, 204, 272, 340, 408, 476, or 544), “current_display” is incremented by 1.</p>
<p>Essentially, this code is responsible for updating the “current_display” variable based on certain conditions related to the current state and clock cycle count.</p>
<ul>
<li><strong>Generate Count Clock</strong></li>
</ul>
<p><strong>Code.3 Generate Count Clock</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clock)</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">if</span>(<span class="keyword">input</span>\_rst)</span><br><span class="line"></span><br><span class="line">`        `count\_clock &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`  <span class="meta">`<span class="keyword">else</span> begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>((current\_state == <span class="number">0</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`    `|| (current\_state == <span class="number">1</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`    `|| (current\_state == <span class="number">2</span> &amp;&amp; count\_clock == <span class="number">500</span>)</span><br><span class="line"></span><br><span class="line">`    `|| (current\_state == <span class="number">3</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`    `|| (current\_state == <span class="number">4</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`    `|| (current\_state == <span class="number">5</span> &amp;&amp; count\_clock == <span class="number">500</span>)</span><br><span class="line"></span><br><span class="line">`    `|| (current\_state == <span class="number">6</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`    `|| (current\_state == <span class="number">7</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`    `|| (current\_state == <span class="number">8</span> &amp;&amp; count\_clock == <span class="number">500</span>)</span><br><span class="line"></span><br><span class="line">`    `)</span><br><span class="line"></span><br><span class="line">`        `count\_clock &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line">`        `count\_clock &lt;= count\_clock + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">End</span><br></pre></td></tr></table></figure>





<p>This code is describing the functionality of an always block that is triggered on the positive edge of a clock signal. It first checks whether an input reset signal is active, and if so, sets the “current_state” variable to 0. Otherwise, it proceeds with additional checks.</p>
<p>If the current state is 0 and the count_clock value is equal to 544, “current_state” is incremented by 1. This same logic is applied for each of the following states: 1, 2, 3, 4, 5, 6, and 7. However, if the current state is 8 and the count_clock value is equal to 500, “current_state” is set back to 0.</p>
<p>Essentially, this code is responsible for updating the “current_state” variable based on certain conditions related to the current state and clock cycle count. These conditions are used to control the timing and sequencing of the LED display in the overall system.</p>
<ul>
<li><strong>Generate Current State</strong></li>
</ul>
<p><strong>Code.4 Generate Current State</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clock)</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">if</span>(<span class="keyword">input</span>\_rst)</span><br><span class="line"></span><br><span class="line">`    `current\_state &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`  <span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">0</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= current\_state + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">1</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= current\_state + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">2</span> &amp;&amp; count\_clock == <span class="number">500</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= current\_state + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">3</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= current\_state + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">4</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= current\_state + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">5</span> &amp;&amp; count\_clock == <span class="number">500</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= current\_state + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">6</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= current\_state + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">7</span> &amp;&amp; count\_clock == <span class="number">544</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= current\_state + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(current\_state == <span class="number">8</span> &amp;&amp; count\_clock == <span class="number">500</span>)</span><br><span class="line"></span><br><span class="line">`        `current\_state &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>



<p>This code is describing the functionality of an always block that is triggered on the positive edge of a clock signal. It first checks whether an input reset signal is active, and if so, sets the “current_state” variable to 0. Otherwise, it proceeds with additional checks.</p>
<p>If the current state is 0 and the count_clock value is equal to 544, “current_state” is incremented by 1. This same logic is applied for each of the following states: 1, 2, 3, 4, 5, 6, and 7. However, if the current state is 8 and the count_clock value is equal to 500, “current_state” is set back to 0.</p>
<ul>
<li><strong>Generate Current DI</strong></li>
</ul>
<p><strong>Code.5 Generate Current DI</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clock)</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">if</span>(<span class="keyword">input</span>\_rst)</span><br><span class="line"></span><br><span class="line">`    `current\_di &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`  <span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(count\_clock == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">67</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">135</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">203</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">271</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">339</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">407</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">475</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">543</span></span><br><span class="line"></span><br><span class="line">`    `)</span><br><span class="line"></span><br><span class="line">`        `current\_di &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(count\_clock == <span class="number">3</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">71</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">139</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">207</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">275</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">343</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">411</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">479</span></span><br><span class="line"></span><br><span class="line">`    `)</span><br><span class="line"></span><br><span class="line">`        `current\_di &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>





<p>This code is describing an always block that is triggered on the positive edge of a clock signal. It first checks whether an input reset signal is active, and if so, sets the “current_di” variable to 0. Otherwise, it proceeds with additional checks.</p>
<p>If the “count_clock” value is equal to 0, 67, 135, 203, 271, 339, 407, 475, or 543, “current_di” is set to 0. If the “count_clock” value is equal to 3, 71, 139, 207, 275, 343, 411, or 479, “current_di” is set to 1.</p>
<ul>
<li><strong>Generate r_cs</strong></li>
</ul>
<p><strong>Code.6 Generate r_cs</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clock)</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">case</span>(current\_state)</span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d0</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">0</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d1</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">1</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d2</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">0</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d3</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">0</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d4</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">1</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d5</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">0</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d6</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">0</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d7</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">1</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="number">&#x27;d8</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">0</span>;<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">default</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`      `r\_cs1 &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`      `r\_cs2 &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`  `<span class="keyword">endcase</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>



<p>This code uses a case statement to determine the appropriate chip select signal to activate for the current state. The signals r_cs1 and r_cs2 are assigned different values based on the current state. This code is used to control the display of specific text on the two-screen LCD display.</p>
<ul>
<li><strong>Generate Data</strong></li>
</ul>
<p><strong>Code.7 Generate Data</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clock) </span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(<span class="keyword">input</span>\_rst)</span><br><span class="line"></span><br><span class="line">`        `r\_db =  <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(count\_clock == <span class="number">68</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">136</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">204</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">272</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">340</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">408</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">476</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">544</span></span><br><span class="line"></span><br><span class="line">`    `)</span><br><span class="line"></span><br><span class="line">`        `r\_db =  <span class="number">8&#x27;b00111110</span>;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span> if(count\_clock == 1</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">69</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">137</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">205</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">273</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">341</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">409</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">477</span></span><br><span class="line"></span><br><span class="line">`    `)</span><br><span class="line"></span><br><span class="line">`        `r\_db =  <span class="number">8&#x27;b11000000</span>;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span> if(count\_clock == 2</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">70</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">138</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">206</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">274</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">342</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">410</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">478</span></span><br><span class="line"></span><br><span class="line">`    `)</span><br><span class="line"></span><br><span class="line">`        `r\_db =  &#123;<span class="number">5&#x27;b10111</span>, current\_display&#125;;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span> if(count\_clock == 3</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">71</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">139</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">207</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">275</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">343</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">411</span></span><br><span class="line"></span><br><span class="line">`    `||count\_clock == <span class="number">479</span></span><br><span class="line"></span><br><span class="line">`    `)</span><br><span class="line"></span><br><span class="line">`        `r\_db =  <span class="number">8&#x27;b01000000</span>;</span><br><span class="line"></span><br><span class="line">`    <span class="meta">`<span class="keyword">else</span></span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">case</span>(current\_state)</span><br><span class="line"></span><br><span class="line">`    `<span class="number">0</span>:<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">case</span>(count\_clock)</span><br><span class="line"></span><br><span class="line"><span class="number">&#x27;d4</span>: r\_db = <span class="number">&#x27;h0</span>;</span><br><span class="line"></span><br><span class="line">` `<span class="number">&#x27;d5</span>: r\_db = <span class="number">&#x27;h0</span>;</span><br><span class="line"></span><br><span class="line">` `<span class="number">&#x27;d6</span>: r\_db = <span class="number">&#x27;h0</span>;</span><br><span class="line"></span><br><span class="line">` `<span class="number">&#x27;d7</span>: r\_db = <span class="number">&#x27;h0</span>;</span><br><span class="line"></span><br><span class="line">` `<span class="number">&#x27;d8</span>: r\_db = <span class="number">&#x27;h0</span>;</span><br><span class="line"></span><br><span class="line">` `<span class="number">&#x27;d9</span>: r\_db = <span class="number">&#x27;h0</span>;</span><br><span class="line"></span><br><span class="line">` `<span class="number">&#x27;d10</span>: r\_db = <span class="number">&#x27;h0</span>;</span><br><span class="line"></span><br><span class="line">**······<span class="comment">//leave out the data because it is very large**</span></span><br></pre></td></tr></table></figure>



<p>The code checks for a reset signal and sets the value of “r_db” accordingly. If the reset signal is not asserted, the code checks the value of “count_clock” and sets “r_db” to a specific value based on its value and the current state of the circuit.</p>
<p>The code uses a case statement to set the value of “r_db” based on the current state of the circuit and the value of “count_clock”. If “count_clock” is not equal to any of the specified values, the code falls through to the default case. The values assigned to “r_db” in each case are expressed in hexadecimal notation.</p>
<h1 id="Chapter-3-Aerial-Combat-Game"><a href="#Chapter-3-Aerial-Combat-Game" class="headerlink" title="Chapter 3. Aerial Combat Game"></a><a name="_toc21801"></a><strong>Chapter 3. Aerial Combat Game</strong></h1><ol>
<li><h2 id="Document-Directory"><a href="#Document-Directory" class="headerlink" title="Document Directory"></a><a name="_toc7907"></a><strong>Document Directory</strong></h2>The table below shows the file directories in the Lab2 aerial combat folder.</li>
</ol>
<p><strong>Table.5 Related Files of the Text Display in Lab1 Image Folder</strong></p>
<table>
<thead>
<tr>
<th align="center"><code> </code><strong>Name</strong></th>
<th align="center"><strong>Specific content</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center"><p></p><p></p><p>aerial_combat_FDE_yosys</p></td>
<td align="center"><p>1.Source files</p><p>2.Generated bit files </p><p>3.Yosys compiled files</p><p>4.Packed, placed, and routed files</p><p>5.Pin constraint files.</p></td>
</tr>
<tr>
<td align="center">demo</td>
<td align="center"><p>1.Demo videos</p><p>2.Waveform pictures and files</p></td>
</tr>
<tr>
<td align="center">tb_simulation</td>
<td align="center"><p>1.Testbench file</p><p>2.Waveform file</p></td>
</tr>
<tr>
<td align="center"><p></p><p>vivado_project_plane</p></td>
<td align="center"><p>1.Vivado project file</p><p>2.Vivado source files</p><p>3.Vivado simulation files</p></td>
</tr>
<tr>
<td align="center">aerial_combat_Wonton</td>
<td align="center"><code>    </code>Wonton project files</td>
</tr>
</tbody></table>
<ol>
<li><h2 id="Game-Introduction"><a href="#Game-Introduction" class="headerlink" title="Game Introduction"></a><a name="_toc100180928"></a><a name="_toc19591"></a><a name="_toc101298150"></a><strong>Game Introduction</strong></h2></li>
</ol>
<p>The whole game is implemented through Wonton software. The game is mainly divided into the following parts, respectively is the control of the start of the game switch, the control of the aircraft movement and shooting button, the game interface display, the score of the seven sections of the digital tube display and LED display.</p>
<p><strong>Here are the rules of the game:</strong></p>
<p>1. Enemy plane is falling from the top of the screen, and our plane is at the bottom at first.</p>
<p>2. The up, down, left and right movements of the aircraft are controlled by the four buttons.</p>
<p>3. The button in the middle controls the aircraft to shoot upward. When the bullet hits the enemy aircraft, the bullet and the enemy aircraft disappear from the current position and the enemy aircraft refreshes from the top of the screen.</p>
<p>4. The initial score is 1 point. Bonus points are awarded after hitting an enemy plane, for a total of 8 points. The higher the score, the more leds are lit below.When all the LED lights are on, that is, after shooting down 8 enemy aircraft, the game is won.</p>
<p>5. If our plane collides with the enemy plane, the game fails.</p>
<ol>
<li><h2 id="Source-Code-Structure"><a href="#Source-Code-Structure" class="headerlink" title="Source Code Structure"></a><a name="_toc30801"></a><strong>Source Code Structure</strong></h2></li>
</ol>
<p>The overall framework of the game, shown here, is designed from the top down. </p>
<p>First of all, the top layer of the entire game becomes the bridge between the various modules of data transmission. The input of the top module is the clock signal, reset signal and signal related to mobile shooting, and the output is the row selection signal and column selection signal of the LED16*16 array, as well as the signal of the control LED and seven segment tube.</p>
<p>The clock_divider module is used to divide the clock frequency. Since dynamic scanning of the LED matrix and game running require different clock frequencies, the clock_divier module generates a clk_out signal that is slower than the original clk signal and feeds it to the game_logic module, LED_score_display module and seven_segment module. The dynamically scanned display module still uses the clk signal with the original faster frequency.</p>
<p>The game control module controls the game. The game control module includes control of aircraft and bullet movement, collision determination and game_matrix update. game_matrix is equivalent to a RAM that is flushed every clock cycle. The game_matrix data will be fed to the dynamically scanned display module, which is used to generate row selection signals and column selection signals to control the LED matrix. In addition, the game control module also generates scores, which are fed to the LED_score_display module and the seven_segment module to generate the final score.</p>
<p><strong>In general, the overall design framework adopts the MVC(Model-View-Controller) design pattern.</strong> The game_marix matrix stores information about aircraft and bullet models. Dynamic scanning of LED matrix, seven sections of digital tube and LED display game interface and score effect.Finally through game_logic module we can control the game.</p>
<ul>
<li>Clock_divider</li>
</ul>
<p><strong>Code.7 Clock_divider</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> **clk\_divider** (</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> clk,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> rst\_n,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">output</span> <span class="keyword">reg</span> clk\_out</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> [<span class="number">23</span>:<span class="number">0</span>] counter = <span class="number">24&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst\_n) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">if</span> (!rst\_n) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `counter &lt;= <span class="number">24&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`            `clk\_out &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (counter == <span class="number">24&#x27;d10</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `counter &lt;= <span class="number">24&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`                `clk\_out &lt;= ~clk\_out;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `counter &lt;= counter + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<p>This code describes a clock divider module. The module takes an input clock signal and produces an output clock signal that is divided by a factor of 10.</p>
<p>The code uses an “always” block that is triggered by a positive edge of the input clock signal or a negative edge of the reset signal. Inside the “always” block, the code checks the value of the reset signal. If the reset signal is asserted, the counter and output clock signals are reset to 0. If the reset signal is not asserted, the code increments the counter by 1 on each clock cycle. When the counter reaches a value of 10, the counter is reset to 0 and the output clock signal is toggled.</p>
<ul>
<li>Display</li>
</ul>
<p><strong>Code.8 Display module</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> **display** (</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> clk,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> rst\_n,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> [<span class="number">255</span>:<span class="number">0</span>] game\_matrix,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] row\_sel,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] col\_sel</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>] row\_counter = <span class="number">4&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst\_n) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">if</span> (!rst\_n) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `row\_counter &lt;= <span class="number">4&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`            `row\_sel &lt;= <span class="number">16&#x27;h0001</span>;</span><br><span class="line"></span><br><span class="line">`            `col\_sel &lt;= <span class="number">16&#x27;h0000</span>;</span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (row\_counter == <span class="number">4&#x27;d15</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `row\_counter &lt;= <span class="number">4&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`                `row\_sel &lt;= <span class="number">16&#x27;h0001</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `row\_counter &lt;= row\_counter + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`                `row\_sel &lt;= row\_sel &lt;&lt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`            `col\_sel &lt;= game\_matrix[<span class="number">16\*</span>row\_counter +: <span class="number">16</span>];</span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>




<p>This code defines a module for a display driver that generates output signals to drive a display based on an input game matrix. The module takes an input game matrix represented as a 256-bit signal, an input clock signal, and a reset signal. The module produces two 16-bit output signals, row_sel and col_sel, which are used to drive the row and column select lines of the display.  </p>
<p>The row_sel output signal is generated by shifting a binary value to select one row of the display at a time. The row counter is used to keep track of which row is currently being selected. When the row counter reaches a value of 15, it is reset to 0 and the row_sel signal is set to its initial value.The col_sel output signal is generated by selecting the corresponding 16-bit value from the game matrix for the current row being displayed. The value is updated on each clock cycle.</p>
<ul>
<li>LED_score_display</li>
</ul>
<p><strong>Code.9 LED_score_display</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> **LED\_score\_display**(</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> <span class="keyword">wire</span> clk,</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> <span class="keyword">wire</span> rst\_n,</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> <span class="keyword">wire</span> [<span class="number">7</span>:<span class="number">0</span>]score,</span><br><span class="line"></span><br><span class="line"><span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]LED</span><br><span class="line"></span><br><span class="line">`    `);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst\_n)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(!rst\_n)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `LED&lt;=<span class="number">8&#x27;b00000000</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">case</span>(score)</span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d0</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b00000000</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d1</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b00000001</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d2</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b00000011</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d3</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b00000111</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d4</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b00001111</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d5</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b00011111</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d6</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b00111111</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d7</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b01111111</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d8</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b11111111</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">default</span>:<span class="keyword">begin</span> LED&lt;=<span class="number">8&#x27;b00000000</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">endcase</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br></pre></td></tr></table></figure>





<p>endmodule</p>
<p>This code defines a module for a LED score display that takes an input score value and produces an 8-bit output signal that drives an eight-segment LED display. The output signal is updated on each positive edge of the input clock signal or negative edge of the reset signal.</p>
<p>If the reset signal is asserted, the output signal is set to 0. Otherwise, a case statement is used to set the output signal based on the input score value. The case statement checks the input score value and sets the output signal to a binary value that represents the corresponding LED display pattern. If the input score is not equal to any of the specified values, the output signal is set to 0.</p>
<ul>
<li>Seven_segment_display</li>
</ul>
<p><strong>Code.10 Seven_segment_display</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> **seven\_segment\_display**(</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> <span class="keyword">wire</span> clk,</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> <span class="keyword">wire</span> rst\_n,</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> <span class="keyword">wire</span> [<span class="number">7</span>:<span class="number">0</span>]score,</span><br><span class="line"></span><br><span class="line"><span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]seven\_segment *<span class="comment">//abcdefgh*</span></span><br><span class="line"></span><br><span class="line">`    `);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst\_n)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">if</span>(!rst\_n)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `seven\_segment&lt;=<span class="number">8&#x27;b00000000</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">case</span>(score)</span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d0</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b11111100</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d1</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b01100000</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d2</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b11011010</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d3</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b11110010</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d4</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b01100110</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d5</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b10110110</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d6</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b10111110</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d7</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b11100000</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="number">8&#x27;d8</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b11111110</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">default</span>:<span class="keyword">begin</span> seven\_segment&lt;=<span class="number">8&#x27;b00000000</span>; <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">endcase</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>endmodule</p>
<p>This code defines a module for a seven-segment LED display that takes an input score value and produces an 8-bit output signal that drives the display. The output signal is updated on each positive edge of the input clock signal or negative edge of the reset signal.</p>
<p>If the reset signal is asserted, the output signal is set to a binary value that turns off all the segments. Otherwise, a case statement is used to set the output signal based on the input score value. The case statement checks the input score value and sets the output signal to a binary value that represents the corresponding display pattern for the number. If the input score is not equal to any of the specified values, the output signal is set to a binary value that turns off all the segments.</p>
<ul>
<li>Game_logic</li>
</ul>
<p><strong>Code.11 Game_logic</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> **game\_logic** (</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> clk,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> rst\_n,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> up,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> down,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> left,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> right,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">input</span> <span class="keyword">wire</span> shoot,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">255</span>:<span class="number">0</span>] game\_matrix,</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] score</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] plane\_position = <span class="number">8&#x27;hF7</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] bullet\_position = <span class="number">8&#x27;h00</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] enemy\_position = <span class="number">8&#x27;h00</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> shoot\_reg = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] enemy\_counter = <span class="number">16&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] bullet\_counter = <span class="number">16&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> up\_reg=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> down\_reg=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> left\_reg=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> right\_reg=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> crash;</span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">reg</span> game\_over;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst\_n) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">if</span> (!rst\_n) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `plane\_position &lt;= <span class="number">8&#x27;hF7</span>;</span><br><span class="line"></span><br><span class="line">`            `bullet\_position &lt;= <span class="number">8&#x27;h00</span>;</span><br><span class="line"></span><br><span class="line">`            `enemy\_position &lt;= <span class="number">8&#x27;h00</span>;</span><br><span class="line"></span><br><span class="line">`            `shoot\_reg &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `up\_reg&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `game\_over&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `crash&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `down\_reg&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `left\_reg&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `right\_reg&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `enemy\_counter &lt;= <span class="number">16&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`            `bullet\_counter &lt;= <span class="number">16&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`            `game\_matrix &lt;= <span class="number">256&#x27;b0</span>;</span><br><span class="line"></span><br><span class="line">`            `score &lt;= <span class="number">8&#x27;h00</span>;</span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`       `<span class="comment">//control the movement of the plane</span></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span>(up&amp;&amp;!up\_reg)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `up\_reg&lt;=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (up &amp;&amp; plane\_position[<span class="number">7</span>:<span class="number">4</span>] &gt; <span class="number">4&#x27;b0000</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `plane\_position &lt;= plane\_position - <span class="number">8&#x27;b00100000</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">if</span> (!up)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `up\_reg&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span>(down&amp;&amp;!down\_reg)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `down\_reg&lt;=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (down &amp;&amp; plane\_position[<span class="number">7</span>:<span class="number">4</span>] &lt; <span class="number">4&#x27;b1110</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `plane\_position &lt;= plane\_position + <span class="number">8&#x27;h10</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`             `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">if</span> (!down)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `down\_reg&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span>(left&amp;&amp;!left\_reg)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `left\_reg&lt;=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (left &amp;&amp; plane\_position[<span class="number">3</span>:<span class="number">0</span>] &gt; <span class="number">4&#x27;b0000</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `plane\_position &lt;= plane\_position - <span class="number">8&#x27;h01</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">if</span> (!left)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `left\_reg&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`             `<span class="keyword">if</span>(right&amp;&amp;!right\_reg)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `right\_reg&lt;=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (right &amp;&amp; plane\_position[<span class="number">3</span>:<span class="number">0</span>] &lt; <span class="number">4&#x27;b1110</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `plane\_position &lt;= plane\_position + <span class="number">8&#x27;h01</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`             `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">if</span> (!right)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`            `right\_reg&lt;=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `End</span><br><span class="line"></span><br><span class="line">`            `<span class="comment">//control the shot of the bullet</span></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (shoot &amp;&amp; !shoot\_reg) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `shoot\_reg &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`                `bullet\_position &lt;= plane\_position - <span class="number">8&#x27;h10</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">if</span> (!shoot) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `shoot\_reg &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">`            `End</span><br><span class="line"></span><br><span class="line">`            `<span class="comment">//use bullet\_counter to determine the speed</span></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (bullet\_position != <span class="number">8&#x27;h00</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `bullet\_counter &lt;= bullet\_counter + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`                `<span class="keyword">if</span> (bullet\_counter == <span class="number">16&#x27;d1</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                    `bullet\_counter &lt;= <span class="number">16&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`                    `<span class="keyword">if</span> (bullet\_position[<span class="number">7</span>:<span class="number">4</span>] != <span class="number">4&#x27;b0000</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                        `bullet\_position &lt;= bullet\_position - <span class="number">8&#x27;h10</span>;</span><br><span class="line"></span><br><span class="line">`                    `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                        `bullet\_position &lt;= <span class="number">8&#x27;h00</span>;</span><br><span class="line"></span><br><span class="line">`                    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`                `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`            `End</span><br><span class="line"></span><br><span class="line">`            `<span class="comment">//control the movement of the enemy</span></span><br><span class="line"></span><br><span class="line">`            `<span class="comment">//use enemy\_counter to determine the speed</span></span><br><span class="line"></span><br><span class="line">`            `enemy\_counter &lt;= enemy\_counter + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (enemy\_counter == <span class="number">16&#x27;d1</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `enemy\_counter &lt;= <span class="number">16&#x27;d0</span>;</span><br><span class="line"></span><br><span class="line">`                `<span class="keyword">if</span> (enemy\_position[<span class="number">7</span>:<span class="number">4</span>] &lt; <span class="number">4&#x27;b1110</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                    `enemy\_position &lt;= enemy\_position + <span class="number">8&#x27;h10</span>;</span><br><span class="line"></span><br><span class="line">`                `<span class="keyword">end</span> <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                  `enemy\_position &lt;= &#123;<span class="number">4&#x27;b0000</span>, enemy\_position[<span class="number">3</span>:<span class="number">0</span>]&#125; + <span class="number">8&#x27;h01</span>;</span><br><span class="line"></span><br><span class="line">`                `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`            `End</span><br><span class="line"></span><br><span class="line"><span class="comment">//determine whether the bullet hits the enemy or not</span></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (bullet\_position == enemy\_position||bullet\_position==(enemy\_position+<span class="number">8&#x27;h01</span>)) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `score &lt;= score + <span class="number">8&#x27;h01</span>;</span><br><span class="line"></span><br><span class="line">`                `enemy\_position &lt;= &#123;<span class="number">4&#x27;b0000</span>, enemy\_position[<span class="number">3</span>:<span class="number">0</span>]&#125; + <span class="number">8&#x27;h01</span>;</span><br><span class="line"></span><br><span class="line">`                `bullet\_position &lt;= <span class="number">8&#x27;h00</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span>*       </span><br><span class="line"></span><br><span class="line"><span class="comment">//determine whether the plane crash with the enemy</span></span><br><span class="line"></span><br><span class="line">crash&lt;=(plane\_position==enemy\_position)||((plane\_position-<span class="number">8&#x27;h10</span>)==enemy\_position)||((plane\_position-<span class="number">8&#x27;h01</span>)==enemy\_position)||((plane\_position+<span class="number">8&#x27;h01</span>)==enemy\_position)||(plane\_position==(enemy\_position+<span class="number">8&#x27;h01</span>))||((plane\_position-<span class="number">8&#x27;h10</span>)==(enemy\_position+<span class="number">8&#x27;h01</span>))||((plane\_position-<span class="number">8&#x27;h01</span>)==(enemy\_position+<span class="number">8&#x27;h01</span>))||((plane\_position+<span class="number">8&#x27;h01</span>)==(enemy\_position+<span class="number">8&#x27;h01</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//refresh  the game matrix</span></span><br><span class="line"></span><br><span class="line">`         `<span class="keyword">if</span>(crash)<span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`           `game\_matrix &lt;= <span class="number">256&#x27;b1</span>;</span><br><span class="line"></span><br><span class="line">`           `game\_over&lt;=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`           `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`          <span class="meta">`<span class="keyword">else</span> if(game\_over==0)begin   </span></span><br><span class="line"></span><br><span class="line">`            `game\_matrix &lt;= <span class="number">256&#x27;b0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`            `game\_matrix[plane\_position] &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `game\_matrix[plane\_position - <span class="number">8&#x27;h10</span>] &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `game\_matrix[plane\_position - <span class="number">8&#x27;h01</span>] &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `game\_matrix[plane\_position + <span class="number">8&#x27;h01</span>] &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`            `game\_matrix[enemy\_position] &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `game\_matrix[enemy\_position+<span class="number">8&#x27;h01</span>] &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">if</span> (bullet\_position != <span class="number">8&#x27;h00</span>) <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">`                `game\_matrix[bullet\_position] &lt;= <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">`            `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`        `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">`    `<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>




<p>This code defines a module for a game logic that takes several input signals representing the player’s movements and actions, and generates two output signals: a game matrix that represents the state of the game world, and a score value that represents the player’s score. The output signals are updated on each positive edge of the input clock signal or negative edge of the reset signal.</p>
<p>The module contains several registers that represent the positions of the player, enemy, and bullet, as well as several flags that represent the player’s actions and the game status. The logic of the module is implemented using several if-else statements and a case statement that update the position of the player, bullet, and enemy, and check for collisions and other game events.</p>
<p>The output game matrix is a 256-bit binary vector that represents the state of the game world, with each bit corresponding to a pixel on the game screen. The matrix is updated on each clock cycle to reflect the current position of the player, enemy, and bullet, as well as any collisions that occur.</p>
<p>The output score value is an 8-bit binary number that represents the player’s score, which is incremented each time the player shoots down an enemy.</p>
<p>Overall, this module implements the game logic for a simple shooting game that allows the player to move their character and shoot down enemy planes, while avoiding collisions and other obstacles.</p>
<h1 id="Chapter-5-References"><a href="#Chapter-5-References" class="headerlink" title="Chapter 5. References"></a><a name="_toc21012"></a><strong>Chapter 5. References</strong></h1><p><strong>1.Principle of dynamic scanning</strong> </p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_55203246/article/details/124155818">https://blog.csdn.net/qq_55203246/article/details/124155818</a></p>
<p><strong>2. Electronic Design tutorial:16 *16 LED Matrix Driver</strong> </p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/geek_monkey/article/details/107622595">https://blog.csdn.net/geek_monkey/article/details/107622595</a></p>
<p><strong>3.The Case statement in Verilog</strong></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/CLL_caicai/article/details/104395480">https://blog.csdn.net/CLL_caicai/article/details/104395480</a></p>
<p><strong>4.Verilog assigns a value to the array collective</strong></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin/_34532284/article/details/112821125">https://blog.csdn.net/weixin\_34532284/article/details/112821125</a></p>
<p><strong>5.The problem of std:bad_alloc</strong></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/WhereYouSink/article/details/103299432">https://blog.csdn.net/WhereYouSink/article/details/103299432</a></p>
<h1 id="Chapter-6-Appendices"><a href="#Chapter-6-Appendices" class="headerlink" title="Chapter 6. Appendices"></a><a name="_toc24617"></a><strong>Chapter 6. Appendices</strong></h1><p><strong>Code.12 LED Text Display Testbench</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> **tb\_word\_display**();</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> clk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> rst;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> oLcdEn;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> oLcdRs;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span>  oLcdRw;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> [<span class="number">7</span>:<span class="number">0</span>]  oLcdData;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> oLcdRst;</span><br><span class="line"></span><br><span class="line">lab0 display(</span><br><span class="line"></span><br><span class="line"><span class="variable">.iClk</span>(clk),</span><br><span class="line"></span><br><span class="line"><span class="variable">.iRst</span>(rst),</span><br><span class="line"></span><br><span class="line"><span class="variable">.oLcdEn</span>(oLcdEn),</span><br><span class="line"></span><br><span class="line"><span class="variable">.oLcdRs</span>(oLcdRs),</span><br><span class="line"></span><br><span class="line"><span class="variable">.oLcdRw</span>(oLcdRw),</span><br><span class="line"></span><br><span class="line"><span class="variable">.oLcdData</span>(oLcdData),</span><br><span class="line"></span><br><span class="line"><span class="variable">.oLcdRst</span>(oLcdRst)</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">#<span class="number">0</span> clk=<span class="number">0</span>; rst=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">2</span> rst=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> #<span class="number">1</span> clk=~clk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<p><strong>Code.13 LED Image Display Testbench</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> **tb\_zty\_image\_display**();</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> clk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">input</span>\_rst;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> [<span class="number">7</span>:<span class="number">0</span>] db;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> di;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> rw;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> en;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> cs1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> cs2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> rst;</span><br><span class="line"></span><br><span class="line">namedisplay display1(</span><br><span class="line"></span><br><span class="line"><span class="variable">.clock</span>(clk),</span><br><span class="line"></span><br><span class="line"><span class="variable">.input</span>\_rst(<span class="keyword">input</span>\_rst),</span><br><span class="line"></span><br><span class="line"><span class="variable">.db</span>(db),</span><br><span class="line"></span><br><span class="line"><span class="variable">.di</span>(di),</span><br><span class="line"></span><br><span class="line"><span class="variable">.rw</span>(rw),</span><br><span class="line"></span><br><span class="line"><span class="variable">.en</span>(en),</span><br><span class="line"></span><br><span class="line"><span class="variable">.cs1</span>(cs1),</span><br><span class="line"></span><br><span class="line"><span class="variable">.cs2</span>(cs2),</span><br><span class="line"></span><br><span class="line"><span class="variable">.rst</span>(rst)</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">#<span class="number">0</span> clk=<span class="number">0</span>; <span class="keyword">input</span>\_rst=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">2</span> <span class="keyword">input</span>\_rst=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> #<span class="number">1</span> clk=~clk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>



<p><strong>Code.14 Aerial Combat Testbench</strong></p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">module</span> **tb**();</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> clk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> rst\_n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> up;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> down;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> left;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> right;</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span> shoot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> [<span class="number">15</span>:<span class="number">0</span>] row\_sel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span> [<span class="number">15</span>:<span class="number">0</span>] col\_sel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span>[<span class="number">7</span>:<span class="number">0</span>]LED;</span><br><span class="line"></span><br><span class="line"><span class="keyword">wire</span>[<span class="number">7</span>:<span class="number">0</span>]seven\_segment;</span><br><span class="line"></span><br><span class="line">top\_module top(</span><br><span class="line"></span><br><span class="line"><span class="variable">.clk</span>(clk),</span><br><span class="line"></span><br><span class="line"><span class="variable">.rst</span>\_n(rst\_n),</span><br><span class="line"></span><br><span class="line"><span class="variable">.up</span>(up),</span><br><span class="line"></span><br><span class="line"><span class="variable">.down</span>(down),</span><br><span class="line"></span><br><span class="line"><span class="variable">.left</span>(left),</span><br><span class="line"></span><br><span class="line"><span class="variable">.right</span>(right),</span><br><span class="line"></span><br><span class="line"><span class="variable">.shoot</span>(shoot),</span><br><span class="line"></span><br><span class="line"><span class="variable">.row</span>\_sel(row\_sel),</span><br><span class="line"></span><br><span class="line"><span class="variable">.col</span>\_sel(col\_sel),</span><br><span class="line"></span><br><span class="line"><span class="variable">.LED</span>(LED),</span><br><span class="line"></span><br><span class="line"><span class="variable">.seven</span>\_segment(seven\_segment)</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line"></span><br><span class="line">#<span class="number">0</span> rst\_n=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">clk=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">left=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">up=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">right=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">down=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">shoot=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> rst\_n=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> left=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> left=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> up=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> up=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> shoot=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> shoot=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> right=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> right=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> left=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> left=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> shoot=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">40</span> shoot=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> #<span class="number">1</span> clk=~clk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure>




</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://zty-user.github.io">ZTY</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://zty-user.github.io/post/b7e78d96.html">https://zty-user.github.io/post/b7e78d96.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.a0/" target="_blank">CC BY-NC-SA 4.a0</a> 许可协议。转载请注明来源 <a href="https://zty-user.github.io" target="_blank">ZTY's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/zty-user.github.io/tags/FPGA/">-FPGA</a></div><div class="post-share"><div class="social-share" data-image="https://w.wallhaven.cc/full/k7/wallhaven-k7q9m7.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/zty-user.github.io/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/zty-user.github.io/img/wechat.png" alt="Wechat"/></a><div class="post-qr-code-desc">Wechat</div></li></ul></div></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/zty-user.github.io/post/9d3964fd.html" title="【FPGA】论文调研——Evaluating Fast Algorithm for CNNs and FPGAs"><img class="cover" src="https://w.wallhaven.cc/full/zy/wallhaven-zygeko.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-04</div><div class="info-item-2">【FPGA】论文调研——Evaluating Fast Algorithm for CNNs and FPGAs</div></div><div class="info-2"><div class="info-item-1">...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC8a1ODI4My8zNDca0Ng=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/zty-user.github.io/img/me.png" onerror="this.onerror=null;this.src='/zty-user.github.io/img/friend_4a04.gif'" alt="avatar"/></div><div class="author-info-name">ZTY</div><div class="author-info-description">This blog mainly shares my thoughts on learning.</div><div class="site-data"><a href="/zty-user.github.io/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/zty-user.github.io/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/zty-user.github.io/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://space.bilibili.com/5a14769457"><i class="fab fa-bilibili"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/zty-user" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://space.bilibili.com/5a14769457" target="_blank" title="Bilibili"><i class="fab fa-bilibili"></i></a><a class="social-icon" href="https://www.zhihu.com/people/zty-a2a1-8-77" target="_blank" title="zhihu"><i class="fab fa-zhihu"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_5a0958a036" target="_blank" title="CSDN"><i class="fab fa-c"></i></a><a class="social-icon" href="https://www.facebook.com/profile.php?id=a1a0a0a09a147a14a2a07a04" target="_blank" title=""><i class="fab fa-facebook"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎大噶来访！（图片出不来的话可以多刷新几次）</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-1-Introduction"><span class="toc-number">1.</span> <span class="toc-text">Chapter 1 Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-The-purpose-of-the-experiment"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 The purpose of the experiment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-Experimental-Procedure-of-FDE-Lab"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 Experimental Procedure of FDE Lab</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-2-Name-Display-Experiment"><span class="toc-number">2.</span> <span class="toc-text">Chapter 2. Name Display Experiment</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-The-Text-Display-of-Name"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 The Text Display of Name</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-Document-Directory"><span class="toc-number">2.1.1.</span> <span class="toc-text">2.1.1 Document Directory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-Experimental-Principle"><span class="toc-number">2.1.2.</span> <span class="toc-text">2.1.2 Experimental Principle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-Source-Code-Design"><span class="toc-number">2.1.3.</span> <span class="toc-text">2.1.3 Source Code Design</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-The-Image-Display-of-Name"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 The Image Display of Name</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-Document-Directory"><span class="toc-number">2.2.1.</span> <span class="toc-text">2.2.1 Document Directory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-Experimental-Principle-1"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.1.2 Experimental Principle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-Source-Code-Design"><span class="toc-number">2.2.3.</span> <span class="toc-text">2.2.3 Source Code Design</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-3-Aerial-Combat-Game"><span class="toc-number">3.</span> <span class="toc-text">Chapter 3. Aerial Combat Game</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Document-Directory"><span class="toc-number">3.1.</span> <span class="toc-text">Document Directory</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Game-Introduction"><span class="toc-number">3.2.</span> <span class="toc-text">Game Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Source-Code-Structure"><span class="toc-number">3.3.</span> <span class="toc-text">Source Code Structure</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-5-References"><span class="toc-number">4.</span> <span class="toc-text">Chapter 5. References</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-6-Appendices"><span class="toc-number">5.</span> <span class="toc-text">Chapter 6. Appendices</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/zty-user.github.io/post/cc3c.html" title="iwantit"><img src="https://w.wallhaven.cc/full/qz/wallhaven-qz9ykr.jpg" onerror="this.onerror=null;this.src='/zty-user.github.io/img/4a04.png'" alt="iwantit"/></a><div class="content"><a class="title" href="/zty-user.github.io/post/cc3c.html" title="iwantit">iwantit</a><time datetime="2024-11-14T16:42:46.000Z" title="发表于 2024-11-15 00:42:46">2024-11-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/zty-user.github.io/post/67ef1652.html" title="new_start"><img src="https://w.wallhaven.cc/full/a1p/wallhaven-a1ppyk9.jpg" onerror="this.onerror=null;this.src='/zty-user.github.io/img/4a04.png'" alt="new_start"/></a><div class="content"><a class="title" href="/zty-user.github.io/post/67ef1652.html" title="new_start">new_start</a><time datetime="2024-11-11T09:40:58.000Z" title="发表于 2024-11-11 17:40:58">2024-11-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/zty-user.github.io/post/9d3964fd.html" title="【FPGA】论文调研——Evaluating Fast Algorithm for CNNs and FPGAs"><img src="https://w.wallhaven.cc/full/zy/wallhaven-zygeko.jpg" onerror="this.onerror=null;this.src='/zty-user.github.io/img/4a04.png'" alt="【FPGA】论文调研——Evaluating Fast Algorithm for CNNs and FPGAs"/></a><div class="content"><a class="title" href="/zty-user.github.io/post/9d3964fd.html" title="【FPGA】论文调研——Evaluating Fast Algorithm for CNNs and FPGAs">【FPGA】论文调研——Evaluating Fast Algorithm for CNNs and FPGAs</a><time datetime="2023-04-04T13:29:08.000Z" title="发表于 2023-04-04 21:29:08">2023-04-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/zty-user.github.io/post/a049c696.html" title="【模集】源极跟随器的设计与改进"><img src="https://w.wallhaven.cc/full/4a2/wallhaven-4a2qll6.jpg" onerror="this.onerror=null;this.src='/zty-user.github.io/img/4a04.png'" alt="【模集】源极跟随器的设计与改进"/></a><div class="content"><a class="title" href="/zty-user.github.io/post/a049c696.html" title="【模集】源极跟随器的设计与改进">【模集】源极跟随器的设计与改进</a><time datetime="2023-04-01T13:55:39.000Z" title="发表于 2023-04-01 21:55:39">2023-04-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/zty-user.github.io/post/5238aa9d.html" title="【模集】纳米级晶体管的设计"><img src="https://w.wallhaven.cc/full/9m/wallhaven-9mvxm8.jpg" onerror="this.onerror=null;this.src='/zty-user.github.io/img/4a04.png'" alt="【模集】纳米级晶体管的设计"/></a><div class="content"><a class="title" href="/zty-user.github.io/post/5238aa9d.html" title="【模集】纳米级晶体管的设计">【模集】纳米级晶体管的设计</a><time datetime="2023-04-01T13:39:26.000Z" title="发表于 2023-04-01 21:39:26">2023-04-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;a2a0a23 - 2024 By ZTY</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/zty-user.github.io/js/utils.js"></script><script src="/zty-user.github.io/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.isShuoshuo

  const loadLivere = (el, path) => {
    window.livereOptions = {
      refer: path || location.pathname
    }

    if (isShuoshuo) {
      window.shuoshuoComment.destroyLivere = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    if (typeof LivereTower === 'object') window.LivereTower.init()
    else {
      (function(d, s) {
          var j, e = d.getElementsByTagName(s)[0];
          if (typeof LivereTower === 'function') { return; }
          j = d.createElement(s);
          j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
          j.async = true;
          e.parentNode.insertBefore(j, e);
      })(document, 'script');
    }
  }

  if (isShuoshuo) {
    'Livere' === 'Livere'
      ? window.shuoshuoComment = { loadComment: loadLivere }
      : window.loadOtherComment = loadLivere
    return
  }

  if ('Livere' === 'Livere' || !false) {
    if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
    else loadLivere()
  } else {
    window.loadOtherComment = loadLivere
  }
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>